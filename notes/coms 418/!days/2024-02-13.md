#coms418 

### Orthogonal Range Searching
- [[Database query as a geometric problem]]
	- records $\rightarrow$ points in $d-space_{\# fields }$
	- Queries performed on points
	- Ex: Find employees born in 1950-1959$_a$ and having income between $3000-4000 income per month $_b$
		- x-coordinate = 10000 * year + 100 * months + day
		- y-coordinate = monthly salary
		- [[pic for range search]]
		- Report all points inside an axis-parallel polygon ^^
- [[Query of fields of records in database]]
	- $\rightarrow$ query for all the points inside an a d-dimensional axis parallel box
	- [[1-D range searching]]
		- a set of points on the x-axis 
			- $P = \{p_1,p_2,...,p_n\}$
			- Query range $[x,x']$ : find all points inside 
			- solution 1: array + sorting + binary search in optimal
				- $O(logn + k)$ run time
		- Does not generalize to higher dimensions
		- Solution 2: balanced binary search tree T
			- Leaves: $p_1,p_2,...p_n$
			- internal nodes: splitting values
			- at node v: splitting value $x_1$
			- ![[binary tree.heic]]
			- Query range $[x,x']$
				- Search with $x$ and $x'$ in $T$
					- end at two leaves $\mu$ and $\mu'$
					- report points stored between $\mu$ and $\mu'$ 
					- possibly also points stored at $\mu$ and $\mu'$ 
					- ![[solution 2 binary tree.heic]]
		- Ex: ![[pic for example .heic]]
			- leaves of subtrees $T(v)$ such that $v$ is a right child of a node on $P_{\text{left path}}(P'_{\text{right path}})$
		- how to find $[x,x']$
			- compute Vsplit: node where the path to $\mu$ and $\mu'$ split
				- v $\leftarrow$ root(T)
				- while v not leaf and ($x \leq x_v || x > x_v$)
					- do if $x' \leq x_v$
						- then v $\leftarrow$ left child(v)
						- else v $\leftarrow$ right child(v)
				- return v
			- ![[vsplit.HEIC]]
		- 